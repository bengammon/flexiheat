"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():e.Rellax=t()}("undefined"!=typeof window?window:global,function(){return function e(t,o){var S=Object.create(e.prototype),i=0,T=0,a=0,E=0,L=[],Y=!0,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},r=null,l=!1;try{var s=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassive",null,s),window.removeEventListener("testPassive",null,s)}catch(e){}var p=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,d=window.transformProp||function(){var e=document.createElement("div");if(null===e.style.transform){var t,o=["Webkit","Moz","ms"];for(t in o)if(void 0!==e.style[o[t]+"Transform"])return o[t]+"Transform"}return"transform"}();if(S.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}},o&&Object.keys(o).forEach(function(e){S.options[e]=o[e]}),o&&o.breakpoints&&function(){if(3===S.options.breakpoints.length&&Array.isArray(S.options.breakpoints)){var t,o=!0,n=!0;if(S.options.breakpoints.forEach(function(e){"number"!=typeof e&&(n=!1),null!==t&&e<t&&(o=!1),t=e}),o&&n)return}S.options.breakpoints=[576,768,1201],console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}(),0<(s="string"==typeof(t=t||".rellax")?document.querySelectorAll(t):[t]).length){if(S.elems=s,S.options.wrapper&&!S.options.wrapper.nodeType){if(!(s=document.querySelector(S.options.wrapper)))return void console.warn("Rellax: The wrapper you're trying to use doesn't exist.");S.options.wrapper=s}var k,c=function e(){for(var t=0;t<L.length;t++)S.elems[t].style.cssText=L[t].style;for(L=[],T=window.innerHeight,E=window.innerWidth,t=S.options.breakpoints,k=E<t[0]?"xs":E>=t[0]&&E<t[1]?"sm":E>=t[1]&&E<t[2]?"md":"lg",O(),t=0;t<S.elems.length;t++){var o=void 0,n=S.elems[t],r=n.getAttribute("data-rellax-percentage"),i=n.getAttribute("data-rellax-speed"),a=n.getAttribute("data-rellax-xs-speed"),l=n.getAttribute("data-rellax-mobile-speed"),s=n.getAttribute("data-rellax-tablet-speed"),p=n.getAttribute("data-rellax-desktop-speed"),d=n.getAttribute("data-rellax-vertical-speed"),c=n.getAttribute("data-rellax-horizontal-speed"),u=n.getAttribute("data-rellax-vertical-scroll-axis"),m=n.getAttribute("data-rellax-horizontal-scroll-axis"),f=n.getAttribute("data-rellax-zindex")||0,w=n.getAttribute("data-rellax-min"),x=n.getAttribute("data-rellax-max"),v=n.getAttribute("data-rellax-min-x"),y=n.getAttribute("data-rellax-max-x"),b=n.getAttribute("data-rellax-min-y"),h=n.getAttribute("data-rellax-max-y"),g=!0;a||l||s||p?o={xs:a,sm:l,md:s,lg:p}:g=!1,a=S.options.wrapper?S.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,S.options.relativeToWrapper&&(a=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-S.options.wrapper.offsetTop);var A=S.options.vertical&&(r||S.options.center)?a:0,z=S.options.horizontal&&(r||S.options.center)?S.options.wrapper?S.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0,a=A+n.getBoundingClientRect().top,l=n.clientHeight||n.offsetHeight||n.scrollHeight,s=z+n.getBoundingClientRect().left,p=n.clientWidth||n.offsetWidth||n.scrollWidth,A=r||(A-a+T)/(l+T),r=r||(z-s+E)/(p+E);S.options.center&&(A=r=.5),o=g&&null!==o[k]?Number(o[k]):i||S.options.speed,d=d||S.options.verticalSpeed,c=c||S.options.horizontalSpeed,u=u||S.options.verticalScrollAxis,m=m||S.options.horizontalScrollAxis,i=X(r,A,o,d,c),n=n.style.cssText,g="",(r=/transform\s*:/i.exec(n))&&(g=(r=(g=n.slice(r.index)).indexOf(";"))?" "+g.slice(11,r).replace(/\s/g,""):" "+g.slice(11).replace(/\s/g,"")),L.push({baseX:i.x,baseY:i.y,top:a,left:s,height:l,width:p,speed:o,verticalSpeed:d,horizontalSpeed:c,verticalScrollAxis:u,horizontalScrollAxis:m,style:n,transform:g,zindex:f,min:w,max:x,minX:v,maxX:y,minY:b,maxY:h})}W(),Y&&(window.addEventListener("resize",e),Y=!1,R())},O=function(){var e=i,t=a;return i=S.options.wrapper?S.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,a=S.options.wrapper?S.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,S.options.relativeToWrapper&&(i=((document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset)-S.options.wrapper.offsetTop),!!(e!=i&&S.options.vertical||t!=a&&S.options.horizontal)},X=function(e,t,o,n,r){var i={};return e=100*(r||o)*(1-e),t=100*(n||o)*(1-t),i.x=S.options.round?Math.round(e):Math.round(100*e)/100,i.y=S.options.round?Math.round(t):Math.round(100*t)/100,i},u=function e(){window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),(S.options.wrapper?S.options.wrapper:window).removeEventListener("scroll",e),(S.options.wrapper?S.options.wrapper:document).removeEventListener("touchmove",e),r=n(R)},R=function e(){O()&&!1===Y?(W(),r=n(e)):(r=null,window.addEventListener("resize",u),window.addEventListener("orientationchange",u),(S.options.wrapper?S.options.wrapper:window).addEventListener("scroll",u,!!l&&{passive:!0}),(S.options.wrapper?S.options.wrapper:document).addEventListener("touchmove",u,!!l&&{passive:!0}))},W=function(){for(var e=0;e<S.elems.length;e++){var t=L[e].verticalScrollAxis.toLowerCase(),o=L[e].horizontalScrollAxis.toLowerCase(),n=-1!=t.indexOf("x")?i:0,t=-1!=t.indexOf("y")?i:0,r=-1!=o.indexOf("x")?a:0,o=-1!=o.indexOf("y")?a:0;o=(n=X((n+r-L[e].left+E)/(L[e].width+E),(t+o-L[e].top+T)/(L[e].height+T),L[e].speed,L[e].verticalSpeed,L[e].horizontalSpeed)).y-L[e].baseY,t=n.x-L[e].baseX,null!==L[e].min&&(S.options.vertical&&!S.options.horizontal&&(o=o<=L[e].min?L[e].min:o),S.options.horizontal&&!S.options.vertical&&(t=t<=L[e].min?L[e].min:t)),null!=L[e].minY&&(o=o<=L[e].minY?L[e].minY:o),null!=L[e].minX&&(t=t<=L[e].minX?L[e].minX:t),null!==L[e].max&&(S.options.vertical&&!S.options.horizontal&&(o=o>=L[e].max?L[e].max:o),S.options.horizontal&&!S.options.vertical&&(t=t>=L[e].max?L[e].max:t)),null!=L[e].maxY&&(o=o>=L[e].maxY?L[e].maxY:o),null!=L[e].maxX&&(t=t>=L[e].maxX?L[e].maxX:t),S.elems[e].style[d]="translate3d("+(S.options.horizontal?t:"0")+"px,"+(S.options.vertical?o:"0")+"px,"+L[e].zindex+"px) "+L[e].transform}S.options.callback(n)};return S.destroy=function(){for(var e=0;e<S.elems.length;e++)S.elems[e].style.cssText=L[e].style;Y||(window.removeEventListener("resize",c),Y=!0),p(r),r=null},c(),S.refresh=c,S}console.warn("Rellax: The elements you're trying to select don't exist.")}});