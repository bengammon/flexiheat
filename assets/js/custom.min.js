"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():e.Rellax=t()}("undefined"!=typeof window?window:global,function(){return function e(t,o){var A=Object.create(e.prototype),a=0,z=0,l=0,S=0,s=[],r=!0,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},i=null,p=!1;try{var d=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassive",null,d),window.removeEventListener("testPassive",null,d)}catch(e){}var c=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,u=window.transformProp||function(){var e=document.createElement("div");if(null===e.style.transform){var t,o=["Webkit","Moz","ms"];for(t in o)if(void 0!==e.style[o[t]+"Transform"])return o[t]+"Transform"}return"transform"}();A.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}},o&&Object.keys(o).forEach(function(e){A.options[e]=o[e]}),o&&o.breakpoints&&function(){if(3===A.options.breakpoints.length&&Array.isArray(A.options.breakpoints)){var t,o=!0,n=!0;if(A.options.breakpoints.forEach(function(e){"number"!=typeof e&&(n=!1),null!==t&&e<t&&(o=!1),t=e}),o&&n)return}A.options.breakpoints=[576,768,1201],console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}();t="string"==typeof(t=t||".rellax")?document.querySelectorAll(t):[t];if(0<t.length){if(A.elems=t,A.options.wrapper&&!A.options.wrapper.nodeType){t=document.querySelector(A.options.wrapper);if(!t)return void console.warn("Rellax: The wrapper you're trying to use doesn't exist.");A.options.wrapper=t}var T,m=function e(){for(var t,o,n=0;n<s.length;n++)A.elems[n].style.cssText=s[n].style;s=[],z=window.innerHeight,S=window.innerWidth,t=S,o=A.options.breakpoints,T=t<o[0]?"xs":t>=o[0]&&t<o[1]?"sm":t>=o[1]&&t<o[2]?"md":"lg",w(),function(){for(var e=0;e<A.elems.length;e++){var t=f(A.elems[e]);s.push(t)}}(),y(),r&&(window.addEventListener("resize",e),r=!1,v())},f=function(e){var t=e.getAttribute("data-rellax-percentage"),o=e.getAttribute("data-rellax-speed"),n=e.getAttribute("data-rellax-xs-speed"),r=e.getAttribute("data-rellax-mobile-speed"),i=e.getAttribute("data-rellax-tablet-speed"),a=e.getAttribute("data-rellax-desktop-speed"),l=e.getAttribute("data-rellax-vertical-speed"),s=e.getAttribute("data-rellax-horizontal-speed"),p=e.getAttribute("data-rellax-vertical-scroll-axis"),d=e.getAttribute("data-rellax-horizontal-scroll-axis"),c=e.getAttribute("data-rellax-zindex")||0,u=e.getAttribute("data-rellax-min"),m=e.getAttribute("data-rellax-max"),f=e.getAttribute("data-rellax-min-x"),w=e.getAttribute("data-rellax-max-x"),x=e.getAttribute("data-rellax-min-y"),v=e.getAttribute("data-rellax-max-y"),y=!0;n||r||i||a?g={xs:n,sm:r,md:i,lg:a}:y=!1;var b=A.options.wrapper?A.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;A.options.relativeToWrapper&&(b=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-A.options.wrapper.offsetTop);var h=A.options.vertical&&(t||A.options.center)?b:0,n=A.options.horizontal&&(t||A.options.center)?A.options.wrapper?A.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0,r=h+e.getBoundingClientRect().top,i=e.clientHeight||e.offsetHeight||e.scrollHeight,a=n+e.getBoundingClientRect().left,b=e.clientWidth||e.offsetWidth||e.scrollWidth,h=t||(h-r+z)/(i+z),n=t||(n-a+S)/(b+S);A.options.center&&(h=n=.5);var y=y&&null!==g[T]?Number(g[T]):o||A.options.speed,g=l||A.options.verticalSpeed,o=s||A.options.horizontalSpeed,l=p||A.options.verticalScrollAxis,s=d||A.options.horizontalScrollAxis,p=E(n,h,y,g,o),d=e.style.cssText,n="",h=/transform\s*:/i.exec(d);return h&&(e=h.index,n=(e=(h=d.slice(e)).indexOf(";"))?" "+h.slice(11,e).replace(/\s/g,""):" "+h.slice(11).replace(/\s/g,"")),{baseX:p.x,baseY:p.y,top:r,left:a,height:i,width:b,speed:y,verticalSpeed:g,horizontalSpeed:o,verticalScrollAxis:l,horizontalScrollAxis:s,style:d,transform:n,zindex:c,min:u,max:m,minX:f,maxX:w,minY:x,maxY:v}},w=function(){var e,t=a,o=l;return a=A.options.wrapper?A.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,l=A.options.wrapper?A.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,A.options.relativeToWrapper&&(e=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,a=e-A.options.wrapper.offsetTop),!(t==a||!A.options.vertical)||!(o==l||!A.options.horizontal)},E=function(e,t,o,n,r){var i={},e=(r||o)*(100*(1-e)),t=(n||o)*(100*(1-t));return i.x=A.options.round?Math.round(e):Math.round(100*e)/100,i.y=A.options.round?Math.round(t):Math.round(100*t)/100,i},x=function e(){window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),(A.options.wrapper||window).removeEventListener("scroll",e),(A.options.wrapper||document).removeEventListener("touchmove",e),i=n(v)},v=function e(){w()&&!1===r?(y(),i=n(e)):(i=null,window.addEventListener("resize",x),window.addEventListener("orientationchange",x),(A.options.wrapper||window).addEventListener("scroll",x,!!p&&{passive:!0}),(A.options.wrapper||document).addEventListener("touchmove",x,!!p&&{passive:!0}))},y=function(){for(var e=0;e<A.elems.length;e++){var t,o=s[e].verticalScrollAxis.toLowerCase(),n=s[e].horizontalScrollAxis.toLowerCase(),r=-1!=o.indexOf("x")?a:0,i=-1!=o.indexOf("y")?a:0,o=-1!=n.indexOf("x")?l:0,n=(i+(-1!=n.indexOf("y")?l:0)-s[e].top+z)/(s[e].height+z),r=(r+o-s[e].left+S)/(s[e].width+S),o=(t=E(r,n,s[e].speed,s[e].verticalSpeed,s[e].horizontalSpeed)).y-s[e].baseY,r=t.x-s[e].baseX;null!==s[e].min&&(A.options.vertical&&!A.options.horizontal&&(o=o<=s[e].min?s[e].min:o),A.options.horizontal&&!A.options.vertical&&(r=r<=s[e].min?s[e].min:r)),null!=s[e].minY&&(o=o<=s[e].minY?s[e].minY:o),null!=s[e].minX&&(r=r<=s[e].minX?s[e].minX:r),null!==s[e].max&&(A.options.vertical&&!A.options.horizontal&&(o=o>=s[e].max?s[e].max:o),A.options.horizontal&&!A.options.vertical&&(r=r>=s[e].max?s[e].max:r)),null!=s[e].maxY&&(o=o>=s[e].maxY?s[e].maxY:o),null!=s[e].maxX&&(r=r>=s[e].maxX?s[e].maxX:r);n=s[e].zindex,n="translate3d("+(A.options.horizontal?r:"0")+"px,"+(A.options.vertical?o:"0")+"px,"+n+"px) "+s[e].transform;A.elems[e].style[u]=n}A.options.callback(t)};return A.destroy=function(){for(var e=0;e<A.elems.length;e++)A.elems[e].style.cssText=s[e].style;r||(window.removeEventListener("resize",m),r=!0),c(i),i=null},m(),A.refresh=m,A}console.warn("Rellax: The elements you're trying to select don't exist.")}});