"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():e.Rellax=t()}("undefined"!=typeof window?window:global,function(){return function e(t,o){var P=Object.create(e.prototype),m=0,_=0,f=0,B=0,w=[],r=!0,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},i=null,a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassive",null,l),window.removeEventListener("testPassive",null,l)}catch(e){}var s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,x=window.transformProp||function(){var e=document.createElement("div");if(null===e.style.transform){var t=["Webkit","Moz","ms"];for(var o in t)if(void 0!==e.style[t[o]+"Transform"])return t[o]+"Transform"}return"transform"}();P.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}},o&&Object.keys(o).forEach(function(e){P.options[e]=o[e]}),o&&o.breakpoints&&function(){if(3===P.options.breakpoints.length&&Array.isArray(P.options.breakpoints)){var t,o=!0,n=!0;if(P.options.breakpoints.forEach(function(e){"number"!=typeof e&&(n=!1),null!==t&&e<t&&(o=!1),t=e}),o&&n)return}P.options.breakpoints=[576,768,1201],console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}();var p="string"==typeof(t=t||".rellax")?document.querySelectorAll(t):[t];if(0<p.length){if(P.elems=p,P.options.wrapper&&!P.options.wrapper.nodeType){var d=document.querySelector(P.options.wrapper);if(!d)return void console.warn("Rellax: The wrapper you're trying to use doesn't exist.");P.options.wrapper=d}var D,c=function e(){for(var t,o,n=0;n<w.length;n++)P.elems[n].style.cssText=w[n].style;w=[],_=window.innerHeight,B=window.innerWidth,t=B,o=P.options.breakpoints,D=t<o[0]?"xs":t>=o[0]&&t<o[1]?"sm":t>=o[1]&&t<o[2]?"md":"lg",v(),function(){for(var e=0;e<P.elems.length;e++){var t=u(P.elems[e]);w.push(t)}}(),h(),r&&(window.addEventListener("resize",e),r=!1,b())},u=function(e){var t,o=e.getAttribute("data-rellax-percentage"),n=e.getAttribute("data-rellax-speed"),r=e.getAttribute("data-rellax-xs-speed"),i=e.getAttribute("data-rellax-mobile-speed"),a=e.getAttribute("data-rellax-tablet-speed"),l=e.getAttribute("data-rellax-desktop-speed"),s=e.getAttribute("data-rellax-vertical-speed"),p=e.getAttribute("data-rellax-horizontal-speed"),d=e.getAttribute("data-rellax-vertical-scroll-axis"),c=e.getAttribute("data-rellax-horizontal-scroll-axis"),u=e.getAttribute("data-rellax-zindex")||0,m=e.getAttribute("data-rellax-min"),f=e.getAttribute("data-rellax-max"),w=e.getAttribute("data-rellax-min-x"),x=e.getAttribute("data-rellax-max-x"),v=e.getAttribute("data-rellax-min-y"),y=e.getAttribute("data-rellax-max-y"),b=!0;r||i||a||l?t={xs:r,sm:i,md:a,lg:l}:b=!1;var h=P.options.wrapper?P.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;P.options.relativeToWrapper&&(h=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-P.options.wrapper.offsetTop);var g=P.options.vertical&&(o||P.options.center)?h:0,A=P.options.horizontal&&(o||P.options.center)?P.options.wrapper?P.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0,z=g+e.getBoundingClientRect().top,S=e.clientHeight||e.offsetHeight||e.scrollHeight,T=A+e.getBoundingClientRect().left,E=e.clientWidth||e.offsetWidth||e.scrollWidth,L=o||(g-z+_)/(S+_),Y=o||(A-T+B)/(E+B);P.options.center&&(L=Y=.5);var k,O,X,R=b&&null!==t[D]?Number(t[D]):n||P.options.speed,W=s||P.options.verticalSpeed,q=p||P.options.horizontalSpeed,F=d||P.options.verticalScrollAxis,C=c||P.options.horizontalScrollAxis,M=G(Y,L,R,W,q),j=e.style.cssText,H="",N=/transform\s*:/i.exec(j);return N&&(k=N.index,H=(X=(O=j.slice(k)).indexOf(";"))?" "+O.slice(11,X).replace(/\s/g,""):" "+O.slice(11).replace(/\s/g,"")),{baseX:M.x,baseY:M.y,top:z,left:T,height:S,width:E,speed:R,verticalSpeed:W,horizontalSpeed:q,verticalScrollAxis:F,horizontalScrollAxis:C,style:j,transform:H,zindex:u,min:m,max:f,minX:w,maxX:x,minY:v,maxY:y}},v=function(){var e,t=m,o=f;return m=P.options.wrapper?P.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,f=P.options.wrapper?P.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,P.options.relativeToWrapper&&(e=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,m=e-P.options.wrapper.offsetTop),!(t==m||!P.options.vertical)||!(o==f||!P.options.horizontal)},G=function(e,t,o,n,r){var i={},a=(r||o)*(100*(1-e)),l=(n||o)*(100*(1-t));return i.x=P.options.round?Math.round(a):Math.round(100*a)/100,i.y=P.options.round?Math.round(l):Math.round(100*l)/100,i},y=function e(){window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),(P.options.wrapper?P.options.wrapper:window).removeEventListener("scroll",e),(P.options.wrapper?P.options.wrapper:document).removeEventListener("touchmove",e),i=n(b)},b=function e(){v()&&!1===r?(h(),i=n(e)):(i=null,window.addEventListener("resize",y),window.addEventListener("orientationchange",y),(P.options.wrapper?P.options.wrapper:window).addEventListener("scroll",y,!!a&&{passive:!0}),(P.options.wrapper?P.options.wrapper:document).addEventListener("touchmove",y,!!a&&{passive:!0}))},h=function(){for(var e=0;e<P.elems.length;e++){var t,o=w[e].verticalScrollAxis.toLowerCase(),n=w[e].horizontalScrollAxis.toLowerCase(),r=-1!=o.indexOf("x")?m:0,i=-1!=o.indexOf("y")?m:0,a=-1!=n.indexOf("x")?f:0,l=(i+(-1!=n.indexOf("y")?f:0)-w[e].top+_)/(w[e].height+_),s=(r+a-w[e].left+B)/(w[e].width+B),p=(t=G(s,l,w[e].speed,w[e].verticalSpeed,w[e].horizontalSpeed)).y-w[e].baseY,d=t.x-w[e].baseX;null!==w[e].min&&(P.options.vertical&&!P.options.horizontal&&(p=p<=w[e].min?w[e].min:p),P.options.horizontal&&!P.options.vertical&&(d=d<=w[e].min?w[e].min:d)),null!=w[e].minY&&(p=p<=w[e].minY?w[e].minY:p),null!=w[e].minX&&(d=d<=w[e].minX?w[e].minX:d),null!==w[e].max&&(P.options.vertical&&!P.options.horizontal&&(p=p>=w[e].max?w[e].max:p),P.options.horizontal&&!P.options.vertical&&(d=d>=w[e].max?w[e].max:d)),null!=w[e].maxY&&(p=p>=w[e].maxY?w[e].maxY:p),null!=w[e].maxX&&(d=d>=w[e].maxX?w[e].maxX:d);var c=w[e].zindex,u="translate3d("+(P.options.horizontal?d:"0")+"px,"+(P.options.vertical?p:"0")+"px,"+c+"px) "+w[e].transform;P.elems[e].style[x]=u}P.options.callback(t)};return P.destroy=function(){for(var e=0;e<P.elems.length;e++)P.elems[e].style.cssText=w[e].style;r||(window.removeEventListener("resize",c),r=!0),s(i),i=null},c(),P.refresh=c,P}console.warn("Rellax: The elements you're trying to select don't exist.")}});